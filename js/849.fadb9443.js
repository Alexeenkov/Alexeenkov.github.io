"use strict";(self["webpackChunktodos"]=self["webpackChunktodos"]||[]).push([[849],{9849:function(t,e,o){o.r(e),o.d(e,{default:function(){return It}});var a,s,l=o(3396),i=o(4870),d=o(7139),n=(o(7658),o(2578));(function(t){t["ALL"]="All",t["ACTIVE"]="Active",t["DONE"]="Done"})(a||(a={})),function(t){t[t["MILLISECONDS_PER_DAY"]=864e5]="MILLISECONDS_PER_DAY"}(s||(s={}));const r=(0,n.Q_)("todos",(()=>{const t=(0,i.iH)([]),e=(0,i.iH)(a.ALL),o=(0,i.iH)(!0),d=(0,i.iH)(null),n=(0,i.iH)({isEditing:!1,id:null}),r=(0,l.Fl)((()=>(0,i.SU)(t).filter((t=>!t.completed)))),c=(0,l.Fl)((()=>(0,i.SU)(t).filter((t=>t.completed)))),u=(0,l.Fl)((()=>({active:(0,i.SU)(r).length,done:(0,i.SU)(c).length}))),_=(0,l.Fl)((()=>{switch((0,i.SU)(e)){case a.DONE:return(0,i.SU)(t).filter((t=>t.completed));case a.ACTIVE:return(0,i.SU)(t).filter((t=>!t.completed));case a.ALL:default:return(0,i.SU)(t)}})),v=(0,l.Fl)((()=>(0,i.SU)(_).filter((t=>t.date>(0,i.SU)(d)&&t.date<(0,i.SU)(d)+s.MILLISECONDS_PER_DAY)))),m=t=>{d.value=t?new Date(t.toDateString()).getTime():null},S=()=>{(0,i.SU)(o)?t.value.sort(((t,e)=>t.date-e.date)):t.value.sort(((t,e)=>e.date-t.date))},f=()=>{o.value=!(0,i.SU)(o),S()},p=()=>{n.value.isEditing=!1,n.value.id=null},U=t=>{e.value=t,p()},b=e=>{t.value=(0,i.SU)(t).filter((t=>t.id!==e))},g=e=>{(0,i.SU)(t).push(e)},k=e=>{const o=(0,i.SU)(t).find((t=>t.id===e));o&&(o.completed=!o.completed)},D=t=>{n.value.isEditing=!0,n.value.id=t},w=(e,o,a)=>{const s=(0,i.SU)(t).find((t=>t.id===e));s&&(s.text=o,s.date=a.getTime()),p()},y=localStorage.getItem("todos");return y&&(t.value=JSON.parse(y)._value,S()),(0,l.YP)((()=>t),(t=>{localStorage.setItem("todos",JSON.stringify(t)),S()}),{deep:!0}),{todos:t,activeFilter:e,isSortEarlyFirst:o,filteredDate:d,editableTodo:n,filteredTodosByActive:_,filteredTodosByDate:v,stats:u,setFilteredDate:m,toggleSortOrder:f,setFilter:U,removeTodo:b,addTodo:g,editTodo:D,toggleTodo:k,cancelEditTodo:p,saveEditedTodo:w}})),c={class:"todos-filters"},u=["onClick"];var _=(0,l.aZ)({__name:"TodosFilterByActivity",setup(t){const e=r(),{activeFilter:o}=(0,n.Jk)(e),{setFilter:s}=e,_=[a.ALL,a.ACTIVE,a.DONE],v=t=>({"button--primary":(0,i.SU)(o)===t});return(t,e)=>((0,l.wg)(),(0,l.iD)("aside",c,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)(_,((t,e)=>(0,l._)("button",{key:`${t}-${e}`,onClick:e=>(0,i.SU)(s)(t),class:(0,d.C_)(["todos-filters__button button",v(t)])},(0,d.zw)(t),11,u))),64))]))}}),v=o(89);const m=(0,v.Z)(_,[["__scopeId","data-v-64c6d89c"]]);var S=m,f=o(9242);const p=t=>{const e=(0,l.Fl)((()=>(0,i.SU)(t).getDate().toString())),o=(0,l.Fl)((()=>((0,i.SU)(t).getMonth()+1).toString())),a=(0,l.Fl)((()=>(0,i.SU)(t).getFullYear().toString().slice(2))),s=(0,l.Fl)((()=>`${(0,i.SU)(e)}.${(0,i.SU)(o)}.${(0,i.SU)(a)}`));return{day:e,month:o,year:a,formatDatepicker:s}},U=t=>((0,l.dD)("data-v-00b9d3ea"),t=t(),(0,l.Cn)(),t),b=["onClick"],g=U((()=>(0,l._)("div",{class:"todos-list-item__status"},[(0,l._)("i",{class:"bi bi-check2"})],-1))),k={class:"todos-list-item__text"},D={class:"todos-list-item__date"},w={class:"todos-list-item__buttons"},y=U((()=>(0,l._)("i",{class:"bi bi-pencil"},null,-1))),T=[y],E=U((()=>(0,l._)("i",{class:"bi bi-trash3"},null,-1))),C=[E],F=["onClick"],I=U((()=>(0,l._)("i",{class:"bi bi-floppy"},null,-1))),h=[I],A=["onClick"],L=U((()=>(0,l._)("i",{class:"bi bi-x-lg"},null,-1))),V=[L];var H=(0,l.aZ)({__name:"TodosListItem",props:{todo:{type:Object,required:!0}},setup(t){const e=t,{todo:o}=(0,i.BK)(e),a=r(),{editableTodo:s}=(0,n.Jk)(a),{toggleTodo:c,removeTodo:u,editTodo:_,saveEditedTodo:v,cancelEditTodo:m}=a;let S=new Date(o.value.date);const U=(0,i.iH)((0,i.SU)(o).text),y=(0,i.iH)(S),{day:E,month:I,year:L,formatDatepicker:H}=p(y),Z=(0,l.Fl)((()=>(0,i.SU)(s).isEditing&&(0,i.SU)(s).id===(0,i.SU)(o).id)),x=(0,l.Fl)((()=>({"todos-list-item--done":(0,i.SU)(o).completed&&!(0,i.SU)(Z),"todos-list-item--disabled":(0,i.SU)(s).isEditing&&(0,i.SU)(s).id!==(0,i.SU)(o).id,"todos-list-item--editing":(0,i.SU)(Z)}))),O=()=>{(0,i.SU)(s).isEditing||c((0,i.SU)(o).id)},P=()=>{v((0,i.SU)(o).id,(0,i.SU)(U),(0,i.SU)(y)),S=(0,i.SU)(y)},N=()=>{m(),U.value=(0,i.SU)(o).text,y.value=S};return(0,l.Jd)((()=>{(0,i.SU)(Z)&&m()})),(t,e)=>{const a=(0,l.up)("VueDatePicker"),s=(0,l.Q2)("autofocus");return(0,l.wg)(),(0,l.iD)("li",{class:(0,d.C_)(["todos-list-item",x.value])},[(0,l._)("button",{onClick:(0,f.iM)(O,["stop"]),type:"button",class:"todos-list-item__button"},[g,(0,l._)("div",k,[(0,l.Uk)((0,d.zw)((0,i.SU)(o).text)+" ",1),Z.value?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:0,"onUpdate:modelValue":e[0]||(e[0]=t=>U.value=t),class:"todos-list-item__textarea"},null,512)),[[s],[f.nr,U.value]]):(0,l.kq)("",!0)]),(0,l._)("div",D,[Z.value?((0,l.wg)(),(0,l.j4)(a,{key:1,modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=t=>y.value=t),enableTimePicker:!1,clearable:!1,minDate:new Date,format:(0,i.SU)(H),class:"todos-list-item__datepicker"},null,8,["modelValue","minDate","format"])):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,d.zw)((0,i.SU)(E))+"."+(0,d.zw)((0,i.SU)(I))+"."+(0,d.zw)((0,i.SU)(L)),1)],64))]),(0,l._)("div",w,[Z.value?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("button",{onClick:(0,f.iM)(P,["stop"]),type:"button",class:"todos-list-item__save"},h,8,F),(0,l._)("button",{onClick:(0,f.iM)(N,["stop"]),type:"button",class:"todos-list-item__cancel"},V,8,A)],64)):((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,i.SU)(o).completed?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:e[2]||(e[2]=(0,f.iM)((t=>(0,i.SU)(_)((0,i.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__edit"},T)),(0,l._)("button",{onClick:e[3]||(e[3]=(0,f.iM)((t=>(0,i.SU)(u)((0,i.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__remove"},C)],64))])],8,b)],2)}}});const Z=(0,v.Z)(H,[["__scopeId","data-v-00b9d3ea"]]);var x=Z;const O={class:"todos-list"},P={key:0,class:"todos-list__items"},N={key:1};var Y=(0,l.aZ)({__name:"TodosList",setup(t){const{filteredTodosByActive:e,filteredTodosByDate:o,activeFilter:s,filteredDate:c}=(0,n.Jk)(r()),u=(0,l.Fl)((()=>(0,i.SU)(c)?(0,i.SU)(o):(0,i.SU)(e))),_=(0,l.Fl)((()=>{switch((0,i.SU)(s)){case a.DONE:return"No completed any tasks";case a.ACTIVE:return"No active tasks";case a.ALL:default:return"There are no tasks"}}));return(t,e)=>((0,l.wg)(),(0,l.iD)("div",O,[u.value.length?((0,l.wg)(),(0,l.iD)("ul",P,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.value,(t=>((0,l.wg)(),(0,l.j4)(x,{key:t.id,todo:t},null,8,["todo"])))),128))])):((0,l.wg)(),(0,l.iD)("span",N,(0,d.zw)(_.value),1))]))}});const M=(0,v.Z)(Y,[["__scopeId","data-v-4cbed49e"]]);var W=M;const J=t=>((0,l.dD)("data-v-31ba8644"),t=t(),(0,l.Cn)(),t),z={class:"todos-form-add"},B=["onSubmit"],$=J((()=>(0,l._)("span",{class:"todos-form-add__title"}," Enter the task text ",-1))),j=J((()=>(0,l._)("i",{class:"bi bi-x-lg"},null,-1))),q=[j],K={class:"todos-form-add__input-container"},Q={class:"todos-form-add__input todos-form-add__input--focus"},R={key:0,class:"todos-form-add__error"},G=J((()=>(0,l._)("button",{class:"button button--filled"}," Add task ",-1))),X=J((()=>(0,l._)("i",{class:"bi bi-plus-lg"},null,-1))),tt=[X];var et=(0,l.aZ)({__name:"TodosFormAdd",setup(t){const{addTodo:e,cancelEditTodo:o}=r(),a=(0,i.iH)(!1),s=(0,i.iH)(!1),d=(0,i.iH)(""),n=new Date,c=(0,i.iH)(n),{formatDatepicker:u}=p(c),_=()=>{a.value=!0,o()},v=()=>{a.value=!1},m=()=>!((0,i.SU)(d).trim().length<10),S=()=>{m()?(e({id:Date.now(),text:d.value,completed:!1,date:c.value.getTime()}),s.value=!1,d.value="",v()):s.value=!0};return(t,e)=>{const o=(0,l.up)("VueDatePicker"),r=(0,l.Q2)("autofocus");return(0,l.wg)(),(0,l.iD)("section",z,[a.value?((0,l.wg)(),(0,l.iD)("form",{key:0,onSubmit:(0,f.iM)(S,["prevent"]),class:"todos-form-add__form"},[(0,l._)("div",{class:"todos-form-add__header"},[$,(0,l._)("button",{onClick:v,type:"button",class:"todos-form-add__close"},q)]),(0,l._)("div",K,[(0,l._)("div",Q,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t)},null,512),[[r],[f.nr,d.value]])]),(0,l.Wm)(o,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=t=>c.value=t),enableTimePicker:!1,minDate:(0,i.SU)(n),format:(0,i.SU)(u),clearable:!1,class:"todos-form-add__datepicker"},null,8,["modelValue","minDate","format"]),s.value?((0,l.wg)(),(0,l.iD)("div",R," The length of the task must exceed 10 characters ")):(0,l.kq)("",!0)]),G],40,B)):((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:_,class:"todos-form-add__show-form"},tt))])}}});const ot=(0,v.Z)(et,[["__scopeId","data-v-31ba8644"]]);var at=ot;const st={class:"todos-footer"};var lt=(0,l.aZ)({__name:"TodosFooter",setup(t){const{stats:e}=(0,n.Jk)(r());return(t,o)=>((0,l.wg)(),(0,l.iD)("footer",st,(0,d.zw)((0,i.SU)(e).active)+" more to do, "+(0,d.zw)((0,i.SU)(e).done)+" done ",1))}});const it=(0,v.Z)(lt,[["__scopeId","data-v-11f27240"]]);var dt=it;const nt={class:"layout-default"},rt={class:"layout-default__filters"},ct={class:"layout-default__main"},ut={class:"layout-default__footer"};function _t(t,e){return(0,l.wg)(),(0,l.iD)("div",nt,[(0,l._)("aside",rt,[(0,l.WI)(t.$slots,"filters",{},void 0,!0)]),(0,l._)("main",ct,[(0,l.WI)(t.$slots,"default",{},void 0,!0)]),(0,l._)("div",ut,[(0,l.WI)(t.$slots,"footer",{},void 0,!0)])])}const vt={},mt=(0,v.Z)(vt,[["render",_t],["__scopeId","data-v-1685cf41"]]);var St=mt;const ft={key:0,class:"bi bi-sort-down-alt"},pt={key:1,class:"bi bi-sort-up-alt"};var Ut=(0,l.aZ)({__name:"TodosSortBtn",setup(t){const e=r(),{isSortEarlyFirst:o}=(0,n.Jk)(e),{toggleSortOrder:a}=e;return(t,e)=>((0,l.wg)(),(0,l.iD)("button",{onClick:e[0]||(e[0]=(...t)=>(0,i.SU)(a)&&(0,i.SU)(a)(...t)),type:"button",class:"todos-sort-btn"},[(0,i.SU)(o)?((0,l.wg)(),(0,l.iD)("i",ft)):((0,l.wg)(),(0,l.iD)("i",pt))]))}});const bt=(0,v.Z)(Ut,[["__scopeId","data-v-de6d7eaa"]]);var gt=bt;const kt={class:"todos-filter-by-date"},Dt={key:0,class:"bi bi-x-lg"},wt={key:1,class:"bi bi-funnel"};var yt=(0,l.aZ)({__name:"TodosFilterByDate",setup(t){const e=r(),{filteredDate:o}=(0,n.Jk)(e),{setFilteredDate:a}=e,s=(0,i.iH)(new Date),{formatDatepicker:d}=p(s),c=()=>{if((0,i.SU)(o))return a(null),void(s.value=new Date);a((0,i.SU)(s))};return(0,l.YP)((()=>s.value),(()=>{(0,i.SU)(o)&&a((0,i.SU)(s))})),(t,e)=>{const a=(0,l.up)("VueDatePicker");return(0,l.wg)(),(0,l.iD)("div",kt,[(0,i.SU)(o)?((0,l.wg)(),(0,l.j4)(a,{key:0,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),enableTimePicker:!1,format:(0,i.SU)(d),clearable:!1,class:"todos-filter-by-date__datepicker"},null,8,["modelValue","format"])):(0,l.kq)("",!0),(0,l._)("button",{onClick:c,type:"button",class:"todos-filter-by-date__button"},[(0,i.SU)(o)?((0,l.wg)(),(0,l.iD)("i",Dt)):((0,l.wg)(),(0,l.iD)("i",wt))])])}}});const Tt=(0,v.Z)(yt,[["__scopeId","data-v-10cbab57"]]);var Et=Tt,Ct=(0,l.aZ)({__name:"TodosPage",setup(t){return(t,e)=>((0,l.wg)(),(0,l.j4)(St,{class:"todos-page"},{filters:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"todos-page__filter-activity"}),(0,l.Wm)(Et,{class:"todos-page__filter-date"}),(0,l.Wm)(gt,{class:"todos-page__sort"})])),footer:(0,l.w5)((()=>[(0,l.Wm)(dt)])),default:(0,l.w5)((()=>[(0,l.Wm)(W),(0,l.Wm)(at)])),_:1}))}});const Ft=(0,v.Z)(Ct,[["__scopeId","data-v-d64d0ffc"]]);var It=Ft}}]);
//# sourceMappingURL=849.fadb9443.js.map