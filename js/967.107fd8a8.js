"use strict";(self["webpackChunktodos"]=self["webpackChunktodos"]||[]).push([[967],{6967:function(t,e,o){o.r(e),o.d(e,{default:function(){return Ft}});var a,l,s=o(3396),i=o(7139),d=o(4870),n=(o(7658),o(2578));(function(t){t["ALL"]="All",t["ACTIVE"]="Active",t["DONE"]="Done"})(a||(a={})),function(t){t[t["MILLISECONDS_PER_DAY"]=864e5]="MILLISECONDS_PER_DAY"}(l||(l={}));const r=(0,n.Q_)("todos",(()=>{const t=(0,d.iH)([]),e=(0,d.iH)(a.ALL),o=(0,d.iH)(!0),i=(0,d.iH)(null),n=(0,d.iH)({isEditing:!1,id:null}),r=t=>t.date>(0,d.SU)(i)&&t.date<(0,d.SU)(i)+l.MILLISECONDS_PER_DAY,c=(0,s.Fl)((()=>(0,d.SU)(t).filter((t=>t.completed)))),u=(0,s.Fl)((()=>(0,d.SU)(t).filter((t=>!t.completed)))),_=(0,s.Fl)((()=>(0,d.SU)(t).filter(r))),v=(0,s.Fl)((()=>(0,d.SU)(u).filter(r))),S=(0,s.Fl)((()=>(0,d.SU)(c).filter(r))),m=(0,s.Fl)((()=>{switch((0,d.SU)(e)){case a.DONE:return(0,d.SU)(i)?(0,d.SU)(S):(0,d.SU)(c);case a.ACTIVE:return(0,d.SU)(i)?(0,d.SU)(v):(0,d.SU)(u);case a.ALL:default:return(0,d.SU)(i)?(0,d.SU)(_):(0,d.SU)(t)}})),U=(0,s.Fl)((()=>({active:(0,d.SU)(i)?(0,d.SU)(v).length:(0,d.SU)(u).length,done:(0,d.SU)(i)?(0,d.SU)(S).length:(0,d.SU)(c).length}))),f=t=>{i.value=t?new Date(t.toDateString()).getTime():null},b=()=>{(0,d.SU)(o)?t.value.sort(((t,e)=>t.date-e.date)):t.value.sort(((t,e)=>e.date-t.date))},p=()=>{o.value=!(0,d.SU)(o),b()},g=()=>{n.value.isEditing=!1,n.value.id=null},k=t=>{e.value=t,g()},D=e=>{t.value=(0,d.SU)(t).filter((t=>t.id!==e))},y=e=>{(0,d.SU)(t).push(e)},w=e=>{const o=(0,d.SU)(t).find((t=>t.id===e));o&&(o.completed=!o.completed)},T=t=>{n.value.isEditing=!0,n.value.id=t},F=(e,o,a)=>{const l=(0,d.SU)(t).find((t=>t.id===e));l&&(l.text=o,l.date=a.getTime()),g()},E=()=>{e.value=a.ALL,i.value=null},C=localStorage.getItem("todos");return C&&(t.value=JSON.parse(C)._value,b()),(0,s.YP)((()=>t),(t=>{localStorage.setItem("todos",JSON.stringify(t)),b()}),{deep:!0}),{todos:t,activeFilter:e,isSortEarlyFirst:o,filteredDate:i,editableTodo:n,filteredTodos:m,stats:U,setFilteredDate:f,toggleSortOrder:p,setFilter:k,removeTodo:D,addTodo:y,editTodo:T,toggleTodo:w,cancelEditTodo:g,saveEditedTodo:F,resetFilters:E}})),c=["onClick"];var u=(0,s.aZ)({__name:"TodosFilterByActivity",setup(t){const e=r(),{activeFilter:o,editableTodo:l}=(0,n.Jk)(e),{setFilter:u}=e,_=[a.ALL,a.ACTIVE,a.DONE],v=t=>({"button--primary":(0,d.SU)(o)===t}),S=(0,s.Fl)((()=>({"todos-filter-by-activity--disabled":(0,d.SU)(l).isEditing})));return(t,e)=>((0,s.wg)(),(0,s.iD)("aside",{class:(0,i.C_)(["todos-filter-by-activity",S.value])},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(_,((t,e)=>(0,s._)("button",{key:`${t}-${e}`,onClick:e=>(0,d.SU)(u)(t),class:(0,i.C_)(["todos-filter-by-activity__button button",v(t)])},(0,i.zw)(t),11,c))),64))],2))}}),_=o(89);const v=(0,_.Z)(u,[["__scopeId","data-v-74483d9b"]]);var S=v,m=o(9242);const U=t=>{const e=(0,s.Fl)((()=>(0,d.SU)(t).getDate().toString())),o=(0,s.Fl)((()=>((0,d.SU)(t).getMonth()+1).toString())),a=(0,s.Fl)((()=>(0,d.SU)(t).getFullYear().toString().slice(2))),l=(0,s.Fl)((()=>`${(0,d.SU)(e)}.${(0,d.SU)(o)}.${(0,d.SU)(a)}`));return{day:e,month:o,year:a,formatDatepicker:l}},f=t=>((0,s.dD)("data-v-00b9d3ea"),t=t(),(0,s.Cn)(),t),b=["onClick"],p=f((()=>(0,s._)("div",{class:"todos-list-item__status"},[(0,s._)("i",{class:"bi bi-check2"})],-1))),g={class:"todos-list-item__text"},k={class:"todos-list-item__date"},D={class:"todos-list-item__buttons"},y=f((()=>(0,s._)("i",{class:"bi bi-pencil"},null,-1))),w=[y],T=f((()=>(0,s._)("i",{class:"bi bi-trash3"},null,-1))),F=[T],E=["onClick"],C=f((()=>(0,s._)("i",{class:"bi bi-floppy"},null,-1))),h=[C],I=["onClick"],L=f((()=>(0,s._)("i",{class:"bi bi-x-lg"},null,-1))),A=[L];var V=(0,s.aZ)({__name:"TodosListItem",props:{todo:{type:Object,required:!0}},setup(t){const e=t,{todo:o}=(0,d.BK)(e),a=r(),{editableTodo:l}=(0,n.Jk)(a),{toggleTodo:c,removeTodo:u,editTodo:_,saveEditedTodo:v,cancelEditTodo:S}=a;let f=new Date(o.value.date);const y=(0,d.iH)((0,d.SU)(o).text),T=(0,d.iH)(f),{day:C,month:L,year:V,formatDatepicker:H}=U(T),Z=(0,s.Fl)((()=>(0,d.SU)(l).isEditing&&(0,d.SU)(l).id===(0,d.SU)(o).id)),x=(0,s.Fl)((()=>({"todos-list-item--done":(0,d.SU)(o).completed&&!(0,d.SU)(Z),"todos-list-item--disabled":(0,d.SU)(l).isEditing&&(0,d.SU)(l).id!==(0,d.SU)(o).id,"todos-list-item--editing":(0,d.SU)(Z)}))),O=()=>{(0,d.SU)(l).isEditing||c((0,d.SU)(o).id)},P=()=>{v((0,d.SU)(o).id,(0,d.SU)(y),(0,d.SU)(T)),f=(0,d.SU)(T)},N=()=>{S(),y.value=(0,d.SU)(o).text,T.value=f};return(0,s.Jd)((()=>{(0,d.SU)(Z)&&S()})),(t,e)=>{const a=(0,s.up)("VueDatePicker"),l=(0,s.Q2)("autofocus");return(0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["todos-list-item",x.value])},[(0,s._)("button",{onClick:(0,m.iM)(O,["stop"]),type:"button",class:"todos-list-item__button"},[p,(0,s._)("div",g,[(0,s.Uk)((0,i.zw)((0,d.SU)(o).text)+" ",1),Z.value?(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:0,"onUpdate:modelValue":e[0]||(e[0]=t=>y.value=t),class:"todos-list-item__textarea"},null,512)),[[l],[m.nr,y.value]]):(0,s.kq)("",!0)]),(0,s._)("div",k,[Z.value?((0,s.wg)(),(0,s.j4)(a,{key:1,modelValue:T.value,"onUpdate:modelValue":e[1]||(e[1]=t=>T.value=t),enableTimePicker:!1,clearable:!1,minDate:new Date,format:(0,d.SU)(H),class:"todos-list-item__datepicker"},null,8,["modelValue","minDate","format"])):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,i.zw)((0,d.SU)(C))+"."+(0,i.zw)((0,d.SU)(L))+"."+(0,i.zw)((0,d.SU)(V)),1)],64))]),(0,s._)("div",D,[Z.value?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("button",{onClick:(0,m.iM)(P,["stop"]),type:"button",class:"todos-list-item__save"},h,8,E),(0,s._)("button",{onClick:(0,m.iM)(N,["stop"]),type:"button",class:"todos-list-item__cancel"},A,8,I)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,d.SU)(o).completed?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[2]||(e[2]=(0,m.iM)((t=>(0,d.SU)(_)((0,d.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__edit"},w)),(0,s._)("button",{onClick:e[3]||(e[3]=(0,m.iM)((t=>(0,d.SU)(u)((0,d.SU)(o).id)),["stop"])),type:"button",class:"todos-list-item__remove"},F)],64))])],8,b)],2)}}});const H=(0,_.Z)(V,[["__scopeId","data-v-00b9d3ea"]]);var Z=H;const x={class:"todos-list"},O={key:0,class:"todos-list__items"},P={key:1};var N=(0,s.aZ)({__name:"TodosList",setup(t){const{filteredTodos:e,activeFilter:o}=(0,n.Jk)(r()),l=(0,s.Fl)((()=>{switch((0,d.SU)(o)){case a.DONE:return"No completed any tasks";case a.ACTIVE:return"No active tasks";case a.ALL:default:return"There are no tasks"}}));return(t,o)=>((0,s.wg)(),(0,s.iD)("div",x,[(0,d.SU)(e).length?((0,s.wg)(),(0,s.iD)("ul",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,d.SU)(e),(t=>((0,s.wg)(),(0,s.j4)(Z,{key:t.id,todo:t},null,8,["todo"])))),128))])):((0,s.wg)(),(0,s.iD)("span",P,(0,i.zw)(l.value),1))]))}});const Y=(0,_.Z)(N,[["__scopeId","data-v-93cf8704"]]);var J=Y;const M=t=>((0,s.dD)("data-v-04a839a2"),t=t(),(0,s.Cn)(),t),W=["onSubmit"],z=M((()=>(0,s._)("span",{class:"todos-form-add__title"}," Enter the task text ",-1))),$=M((()=>(0,s._)("i",{class:"bi bi-x-lg"},null,-1))),j=[$],q={class:"todos-form-add__input-container"},B={class:"todos-form-add__input todos-form-add__input--focus"},K={key:0,class:"todos-form-add__error"},Q=M((()=>(0,s._)("button",{class:"button button--filled"}," Add task ",-1))),R=M((()=>(0,s._)("i",{class:"bi bi-plus-lg"},null,-1))),G=[R];var X=(0,s.aZ)({__name:"TodosFormAdd",setup(t){const e=r(),{editableTodo:o}=(0,n.Jk)(e),{addTodo:a,cancelEditTodo:l,resetFilters:c}=e,u=(0,d.iH)(!1),_=(0,d.iH)(!1),v=(0,d.iH)(""),S=new Date,f=(0,d.iH)(S),{formatDatepicker:b}=U(f),p=(0,s.Fl)((()=>(0,d.SU)(u)&&!(0,d.SU)(o).isEditing)),g=(0,s.Fl)((()=>({"todos-form-add--disabled":(0,d.SU)(o).isEditing}))),k=()=>{u.value=!0,l()},D=()=>{u.value=!1},y=()=>!((0,d.SU)(v).trim().length<10),w=()=>{y()?(a({id:Date.now(),text:v.value,completed:!1,date:f.value.getTime()}),_.value=!1,v.value="",D(),c()):_.value=!0};return(t,e)=>{const o=(0,s.up)("VueDatePicker"),a=(0,s.Q2)("autofocus");return(0,s.wg)(),(0,s.iD)("section",{class:(0,i.C_)(["todos-form-add",g.value])},[p.value?((0,s.wg)(),(0,s.iD)("form",{key:0,onSubmit:(0,m.iM)(w,["prevent"]),class:"todos-form-add__form"},[(0,s._)("div",{class:"todos-form-add__header"},[z,(0,s._)("button",{onClick:D,type:"button",class:"todos-form-add__close"},j)]),(0,s._)("div",q,[(0,s._)("div",B,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>v.value=t)},null,512),[[a],[m.nr,v.value]])]),(0,s.Wm)(o,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t),enableTimePicker:!1,minDate:(0,d.SU)(S),format:(0,d.SU)(b),clearable:!1,class:"todos-form-add__datepicker"},null,8,["modelValue","minDate","format"]),_.value?((0,s.wg)(),(0,s.iD)("div",K," The length of the task must exceed 10 characters ")):(0,s.kq)("",!0)]),Q],40,W)):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:k,class:"todos-form-add__show-form"},G))],2)}}});const tt=(0,_.Z)(X,[["__scopeId","data-v-04a839a2"]]);var et=tt;const ot={class:"todos-footer"};var at=(0,s.aZ)({__name:"TodosFooter",setup(t){const{stats:e}=(0,n.Jk)(r());return(t,o)=>((0,s.wg)(),(0,s.iD)("footer",ot,(0,i.zw)((0,d.SU)(e).active)+" more to do, "+(0,i.zw)((0,d.SU)(e).done)+" done ",1))}});const lt=(0,_.Z)(at,[["__scopeId","data-v-11f27240"]]);var st=lt;const it={class:"layout-default"},dt={class:"layout-default__filters"},nt={class:"layout-default__main"},rt={class:"layout-default__footer"};function ct(t,e){return(0,s.wg)(),(0,s.iD)("div",it,[(0,s._)("aside",dt,[(0,s.WI)(t.$slots,"filters",{},void 0,!0)]),(0,s._)("main",nt,[(0,s.WI)(t.$slots,"default",{},void 0,!0)]),(0,s._)("div",rt,[(0,s.WI)(t.$slots,"footer",{},void 0,!0)])])}const ut={},_t=(0,_.Z)(ut,[["render",ct],["__scopeId","data-v-1685cf41"]]);var vt=_t;const St={key:0,class:"bi bi-sort-down-alt"},mt={key:1,class:"bi bi-sort-up-alt"};var Ut=(0,s.aZ)({__name:"TodosSortBtn",setup(t){const e=r(),{isSortEarlyFirst:o,editableTodo:a}=(0,n.Jk)(e),{toggleSortOrder:l}=e,c=(0,s.Fl)((()=>({"todos-sort-btn--disabled":(0,d.SU)(a).isEditing})));return(t,e)=>((0,s.wg)(),(0,s.iD)("button",{onClick:e[0]||(e[0]=(...t)=>(0,d.SU)(l)&&(0,d.SU)(l)(...t)),type:"button",class:(0,i.C_)(["todos-sort-btn",c.value])},[(0,d.SU)(o)?((0,s.wg)(),(0,s.iD)("i",St)):((0,s.wg)(),(0,s.iD)("i",mt))],2))}});const ft=(0,_.Z)(Ut,[["__scopeId","data-v-6a0afd61"]]);var bt=ft;const pt={key:0,class:"bi bi-x-lg"},gt={key:1,class:"bi bi-funnel"};var kt=(0,s.aZ)({__name:"TodosFilterByDate",setup(t){const e=r(),{filteredDate:o,editableTodo:a}=(0,n.Jk)(e),{setFilteredDate:l}=e,c=(0,d.iH)(new Date),{formatDatepicker:u}=U(c),_=(0,s.Fl)((()=>({"todos-filter-by-date--disabled":(0,d.SU)(a).isEditing}))),v=()=>{if((0,d.SU)(o))return l(null),void(c.value=new Date);l((0,d.SU)(c))};return(0,s.YP)((()=>c.value),(()=>{(0,d.SU)(o)&&l((0,d.SU)(c))})),(t,e)=>{const a=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",{class:(0,i.C_)(["todos-filter-by-date",_.value])},[(0,d.SU)(o)?((0,s.wg)(),(0,s.j4)(a,{key:0,modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),enableTimePicker:!1,format:(0,d.SU)(u),clearable:!1,class:"todos-filter-by-date__datepicker"},null,8,["modelValue","format"])):(0,s.kq)("",!0),(0,s._)("button",{onClick:v,type:"button",class:"todos-filter-by-date__button"},[(0,d.SU)(o)?((0,s.wg)(),(0,s.iD)("i",pt)):((0,s.wg)(),(0,s.iD)("i",gt))])],2)}}});const Dt=(0,_.Z)(kt,[["__scopeId","data-v-7f7513d5"]]);var yt=Dt,wt=(0,s.aZ)({__name:"TodosPage",setup(t){return(t,e)=>((0,s.wg)(),(0,s.j4)(vt,{class:"todos-page"},{filters:(0,s.w5)((()=>[(0,s.Wm)(S,{class:"todos-page__filter-activity"}),(0,s.Wm)(yt,{class:"todos-page__filter-date"}),(0,s.Wm)(bt,{class:"todos-page__sort"})])),footer:(0,s.w5)((()=>[(0,s.Wm)(st)])),default:(0,s.w5)((()=>[(0,s.Wm)(J),(0,s.Wm)(et)])),_:1}))}});const Tt=(0,_.Z)(wt,[["__scopeId","data-v-d64d0ffc"]]);var Ft=Tt}}]);
//# sourceMappingURL=967.107fd8a8.js.map